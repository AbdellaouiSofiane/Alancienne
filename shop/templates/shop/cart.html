{% extends "shop/base.html" %}
{% load static %}

{% block title %}
Your shopping cart
{% endblock %}


{% block content %}
	<h1>Your shopping cart</h1>

	{% if not cart.items.count == 0 %}
	<table class="cart">
		<thead>
			<tr>
				<th>Product</th>
				<th>Price</th>
				<th>Quantity</th>
	
			</tr>
		</thead>
		<tbody>
			{% for item in cart.items.all %}
					<tr>
						<td>{{ item.product.name }}</td>
						<td >${{ item.product.price }}</td>
						<td>
							<form method="POST" class='update-form' name = "{{item.id}}">{% csrf_token %}
								<select name = "{{item.id}}" class="form-select" aria-label="Default select example">
							  		{% for i in  item.product.get_choices_list %}
							  			<option {% if i == item.quantity %}selected{% endif %} value="{{i}}">
							  				{{i}}
							  			</option>
							  		{% endfor %}
								</select>
							</form>
						</td>
					</tr>
			{% endfor %}
					<tr class="total">
						<td>Total</td>
						<td id='total_price'>{{cart.total_ttc}} €</td>
						<td id='total_quantity'>{{cart.total_quantity}}</td>
						
					</tr>
		</tbody>
	</table>


	<p class="text-right">
		<a href="" class="button">
		Checkout
		</a>
	</p>
	{% else %}
	<h3>Désolé, aucun produit n'est disponible pour le moment.</h3>
	{% endif %}



{% endblock %}

